name = "vidcom-api"
main = "src/index.ts"
compatibility_date = "2025-01-01"

[vars]
NODE_ENV = "development"
SESSION_SECRET = "dev-session-secret"
SIGNING_SECRET = "dev-signing-secret"

[[d1_databases]]
binding = "DB"
database_name = "vidcom_dev"
database_id = "00000000-0000-0000-0000-000000000000"
preview_database_id = "00000000-0000-0000-0000-000000000000"

[[r2_buckets]]
binding = "BUCKET"
bucket_name = "vidcom-dev"
preview_bucket_name = "vidcom-dev"

[env.staging]
name = "vidcom-api-staging"

[env.staging.vars]
NODE_ENV = "staging"
SESSION_SECRET = "staging-session-secret"
SIGNING_SECRET = "staging-signing-secret"
GITHUB_REF = "v4-clean-rebuild"
GITHUB_REPO = "DMatt702/vidcom_2-life-v3"

[[env.staging.d1_databases]]
binding = "DB"
database_name = "vidcom_staging"
database_id = "96160f3d-3ced-401c-b974-8e38ed2a0664"

[[env.staging.r2_buckets]]
binding = "BUCKET"
bucket_name = "vidcom-staging"
